<template>
  <header class='header'>
    <div class='container'>
      <nav class='nav'>
        <div class='nav__logo'>
          <svg
            width="159"
            height="39"
            fill="none"
            viewBox="0 0 159 39"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M29.48 7.252a42.789 42.789 0 0 0-1.43-1.405C24.406 2.245 19.724.489 15 .489A18.632 18.632 0 0 0 1.95 5.803c-.476.483-.953 1.01-1.43 1.45a1.766 1.766 0 0 0 0 2.503l2.471 2.503c.694.703 1.821.703 2.515 0 .607-.615 1.214-1.274 1.864-1.845 2.168-1.888 4.899-2.81 7.587-2.81 1.82 0 3.685.439 5.332 1.273l-7.804 7.861c-1.387 1.406-1.387 3.646 0 5.007a3.526 3.526 0 0 0 5.03 0c3.988-3.996 7.976-7.993 11.965-12.033.693-.66.693-1.801 0-2.46z"
              fill="#F03360"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M27.009 26.269a1.763 1.763 0 0 0-2.515 0l-1.257 1.23c-2.254 2.283-5.246 3.425-8.237 3.425a11.622 11.622 0 0 1-7.934-3.118c-.52-.483-1.04-1.01-1.56-1.537a1.763 1.763 0 0 0-2.515 0l-2.47 2.46a1.82 1.82 0 0 0 0 2.546c.433.44.866.923 1.343 1.362A18.661 18.661 0 0 0 15 38.039c5.202 0 9.798-2.064 13.44-5.71l1.04-1.054a1.82 1.82 0 0 0 0-2.547l-2.471-2.46z"
              fill="#BFBFC5"
            />
            <path
              d="M51.197 29.31a.78.78 0 0 1-.573-.235.78.78 0 0 1-.236-.573V6.555c0-.247.068-.45.203-.607a.821.821 0 0 1 .606-.236h8.732c2.742 0 4.888.64 6.439 1.922 1.573 1.281 2.36 3.101 2.36 5.461 0 1.64-.405 3.023-1.214 4.147-.787 1.101-1.888 1.899-3.304 2.393l4.922 8.597a.839.839 0 0 1 .101.37c0 .203-.078.372-.236.506a.647.647 0 0 1-.472.203h-3.068c-.36 0-.64-.079-.842-.236a2.397 2.397 0 0 1-.506-.675l-4.349-7.99h-4.686v8.092a.78.78 0 0 1-.236.573c-.135.157-.326.236-.573.236h-3.068zm8.63-12.709c1.35 0 2.36-.303 3.035-.91.696-.607 1.045-1.483 1.045-2.63 0-1.146-.349-2.033-1.045-2.663-.675-.629-1.686-.944-3.034-.944h-4.754v7.147h4.754zm20.194 13.047c-2.495 0-4.484-.72-5.967-2.158-1.461-1.46-2.236-3.506-2.326-6.135l-.034-.843.034-.843c.112-2.562.899-4.574 2.36-6.034 1.483-1.461 3.46-2.192 5.933-2.192 2.652 0 4.697.81 6.135 2.428 1.461 1.618 2.192 3.775 2.192 6.472v.708a.78.78 0 0 1-.236.573.821.821 0 0 1-.607.236H76.313v.27c.044 1.236.382 2.281 1.01 3.135.653.832 1.54 1.248 2.664 1.248 1.326 0 2.394-.517 3.203-1.551.202-.247.36-.405.472-.472.134-.068.325-.101.573-.101h2.899c.202 0 .37.067.506.202a.516.516 0 0 1 .236.438c0 .54-.326 1.18-.978 1.922-.63.719-1.54 1.348-2.73 1.888-1.192.54-2.574.809-4.147.809zm3.742-10.62v-.1c0-1.327-.337-2.394-1.012-3.203-.651-.81-1.562-1.214-2.73-1.214-1.169 0-2.08.405-2.73 1.214-.653.809-.978 1.876-.978 3.202v.102h7.45zm15.748 10.62c-2.472 0-4.45-.686-5.933-2.057-1.46-1.37-2.236-3.27-2.326-5.697l-.034-1.348.034-1.349c.09-2.427.865-4.326 2.326-5.697 1.483-1.371 3.461-2.057 5.933-2.057 1.753 0 3.237.315 4.45.944 1.236.63 2.147 1.405 2.731 2.326.607.9.933 1.753.978 2.563a.645.645 0 0 1-.236.573.783.783 0 0 1-.574.236h-2.966c-.225 0-.405-.045-.54-.135-.112-.113-.224-.292-.337-.54-.337-.876-.786-1.505-1.348-1.887-.54-.383-1.236-.574-2.09-.574-1.146 0-2.045.371-2.697 1.113-.652.72-1 1.82-1.045 3.304l-.034 1.247.034 1.113c.09 2.944 1.337 4.416 3.742 4.416.876 0 1.584-.191 2.124-.573.539-.382.977-1.012 1.314-1.888.113-.247.225-.416.337-.506.135-.112.315-.168.54-.168h2.966c.225 0 .416.078.574.235a.645.645 0 0 1 .236.574c-.045.786-.36 1.629-.944 2.528-.585.899-1.484 1.674-2.697 2.326-1.214.652-2.72.978-4.518.978zM111.86 8.88a.783.783 0 0 1-.574-.236.782.782 0 0 1-.236-.573V5.645c0-.225.079-.416.236-.573a.783.783 0 0 1 .574-.236h3.067a.78.78 0 0 1 .573.236c.18.157.27.348.27.573v2.427a.782.782 0 0 1-.236.573.82.82 0 0 1-.607.236h-3.067zm.134 20.43a.782.782 0 0 1-.573-.236.782.782 0 0 1-.236-.573V12.59c0-.225.079-.416.236-.573a.782.782 0 0 1 .573-.236h2.798c.248 0 .439.078.574.236.157.134.236.325.236.573v15.912a.782.782 0 0 1-.236.573c-.135.157-.326.236-.574.236h-2.798zm8.923 6.405a.779.779 0 0 1-.573-.236c-.157-.135-.236-.326-.236-.573V12.59c0-.248.079-.439.236-.573a.78.78 0 0 1 .573-.236h2.663c.247 0 .438.078.573.236.158.134.236.325.236.573v1.348c1.259-1.663 3.057-2.495 5.394-2.495 2.27 0 4.012.72 5.226 2.158 1.213 1.416 1.865 3.337 1.955 5.765.022.27.034.663.034 1.18 0 .539-.012.944-.034 1.213-.09 2.36-.742 4.27-1.955 5.731-1.214 1.439-2.956 2.158-5.226 2.158s-4-.798-5.191-2.394v7.653c0 .247-.079.438-.236.573-.135.157-.326.236-.574.236h-2.865zm7.619-9.675c2.427 0 3.719-1.495 3.877-4.484.022-.225.033-.562.033-1.011 0-.45-.011-.787-.033-1.012-.158-2.989-1.45-4.483-3.877-4.483-1.304 0-2.27.415-2.899 1.247-.63.831-.978 1.854-1.045 3.068l-.034 1.28.034 1.316c.044 1.123.393 2.09 1.045 2.899.674.786 1.64 1.18 2.899 1.18zm19.797 3.607c-2.494 0-4.483-.72-5.967-2.158-1.46-1.46-2.236-3.506-2.326-6.135l-.033-.843.033-.843c.113-2.562.899-4.574 2.36-6.034 1.483-1.461 3.461-2.192 5.933-2.192 2.652 0 4.698.81 6.136 2.428 1.461 1.618 2.191 3.775 2.191 6.472v.708a.778.778 0 0 1-.236.573.82.82 0 0 1-.607.236h-11.192v.27c.045 1.236.382 2.281 1.011 3.135.652.832 1.54 1.248 2.664 1.248 1.326 0 2.393-.517 3.202-1.551.203-.247.36-.405.472-.472.135-.068.326-.101.573-.101h2.9c.202 0 .37.067.505.202a.515.515 0 0 1 .236.438c0 .54-.326 1.18-.977 1.922-.63.719-1.54 1.348-2.731 1.888-1.191.54-2.573.809-4.147.809zm3.742-10.62v-.1c0-1.327-.337-2.394-1.011-3.203-.652-.81-1.562-1.214-2.731-1.214-1.168 0-2.079.405-2.73 1.214-.652.809-.978 1.876-.978 3.202v.102h7.45z"
              fill="#37393C"
            /></svg>
        </div>
        <ul class='nav__items'>
          <li class='nav__item'>
            <a
              href='#'
              :class='["nav__link", {"nav__link--active": filter === "chicken"}]'
              @click.prevent="onSort('chicken')"
            >
              <AppIcon name="app-chicken-icon" />
              chicken
            </a>
          </li>
          <li class='nav__item'>
            <a
              href='#'
              :class='["nav__link", {"nav__link--active": filter === "vegetarian"}]'
              @click.prevent="onSort('vegetarian')"
            >
              <AppIcon name="app-vegetarian-icon" />
              vegetarian
            </a>
          <li class='nav__item'>
            <a
              href='#'
              :class='["nav__link", {"nav__link--active": filter === "fish"}]'
              @click.prevent="onSort('fish')"
            >
              <AppIcon name="app-fish-icon" />
              fish
            </a>
          </li>
          <li class='nav__item'>
            <a
              href='#'
              :class='["nav__link", {"nav__link--active": filter === "cookies"}]'
              @click.prevent="onSort('cookies')"
            >
              <AppIcon name="app-cookies-icon" />
              cookies
            </a>
          </li>
        </ul>
        <div class='nav__favorites'>
          Favorite: {{ favorites.length | plural }}
        </div>
      </nav>
    </div>
  </header>
</template>

<script>
export default {
  name: "AppHeader",

  props: {
    favorites: {
      type: Array
    },
    filter: {
      type: String
    }
  },

  methods: {
    onSort(category) {
      this.$emit('sort', category);
    }
  },

  filters: {
    plural(val) {
      if (val === 1) {
        return `${val} dish`
      } else {
        return `${val} dishes`
      }
    }
  }
}
</script>

<style scoped>
.header {
  min-height: 331px;
  padding-top: 70px;
  padding-bottom: 120px;
  background-color: #fff;
}

.nav {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
}

.nav__logo svg {
  width: 140px;
}

.nav__logo {
  order: 1;
}

.nav__items {
  margin: 50px -25px 0 -25px;
  padding: 0;
  min-width: 100%;
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  list-style: none;
  order: 3;
}

.nav__item {
  margin: 0 20px 20px;
}

.nav__link {
  display: flex;
  align-items: center;
  color: inherit;
  text-decoration: none;
  text-transform: capitalize;
}

.nav__link svg {
  margin-right: 13px;
  fill: #bfbfc5;
}

.nav__link:hover,
.nav__link--active {
  color: #f03360;
}

.nav__link:hover svg,
.nav__link--active svg {
  fill: #f03360;
}

.nav__favorites {
  margin-left: auto;
  color: #f03360;
  order: 2;
}

@media screen and (min-width: 870px) {
  .header {
    padding-bottom: 220px;
  }

  .nav__items {
    min-width: auto;
    margin: 0 0 0 auto;
    order: 2;
  }

  .nav__logo svg {
    width: 159px;
  }

  .nav__item {
    margin-bottom: 0;
    margin-left: 0;
    margin-right: 0;
  }

  .nav__item:not(:last-child) {
    margin-right: 50px;
  }

  .nav__favorites {
    order: 3;
  }
}
</style>